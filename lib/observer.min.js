!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.state=e,this.subscribers=[]}return function(e,n,t){n&&r(e.prototype,n),t&&r(e,t)}(n,[{key:"get",value:function(){return this.state}},{key:"set",value:function(e){this.state=e,this.broadcast(e)}},{key:"subscribeMany",value:function(){var n=this;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return n.subscribe(e)})}},{key:"subscribe",value:function(n){var e=this;return Array.isArray(n)?this.subscribeMany(n):(this.subscribers.push(n),function(){return e.subscribers=e.subscribers.filter(function(e){return e!==n})})}},{key:"broadcast",value:function(n){return this.subscribers.forEach(function(e){return e(n)}),n}}]),n}();"undefined"!=typeof module&&(module.exports=e)});
